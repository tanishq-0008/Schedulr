# Schedulr – Smart Study Planner

A Flask-based smart study planner with mentor-controlled curriculum, adaptive student scheduling, and test management. **Deployment-ready for public hosting.**

## Features

### Signup & Login
- Dynamic signup for both students and mentors (no hardcoded accounts)
- Students must enter a valid mentor code to link with their mentor
- Mentors receive a unique code upon signup to share with students
- Secure session management with environment-variable-based encryption

### Student Features
- **Adaptive Study Schedule**: Automatically prioritized based on topic completion, test performance, and upcoming exams
- **Personal Study Sessions**: Add, edit, delete custom study sessions with date/time and notes
- **Assigned Units & Topics**: View mentor-assigned curriculum organized by subject
- **Tests**: Take mentor-created tests and receive instant scores
- **Progress Tracking**: Monitor completion status and test performance
- **Exam Calendar**: View upcoming exams set by mentors (read-only)

### Mentor Features
- **Curriculum Management**: Create units/topics organized by subject
- **Test Builder**: Create MCQ and short-answer tests for each unit
- **Exam Scheduling**: Set exam dates for units to drive adaptive scheduling
- **Student Progress Monitoring**: Track all linked students' completion, test scores, and difficulty levels
- **Session Oversight**: View all study sessions by linked students with completion status

## Installation & Quick Start

### Prerequisites
- Python 3.7+
- pip (Python package manager)

### Setup

1. **Install dependencies:**
   ```bash
   pip install -r requirements.txt
   ```

2. **Configure environment (optional for local development):**
   ```bash
   cp .env.example .env
   # Edit .env with your settings
   ```

3. **Run the application:**
   ```bash
   python app.py
   ```
   The database is automatically created on first run.

4. **Access the app:**
   Open your browser and navigate to `http://localhost:5000`

5. **Test the app:**
   - Sign up as a mentor (you'll receive a mentor code)
   - Share the mentor code with students
   - Students sign up using the mentor code
   - Start creating curriculum and assigning tests

## Project Structure

```
schedulr/
├── app.py                    # Main Flask application
├── schedulr.db               # SQLite database (auto-created on first run)
├── requirements.txt          # Python dependencies
├── .env.example              # Environment variables template
├── .gitignore                # Git ignore rules
├── DEPLOYMENT.md             # Comprehensive deployment guide
├── README.md                 # This file
├── templates/
│   ├── login.html
│   ├── signup.html
│   ├── student_dashboard.html
│   ├── mentor_dashboard.html
│   ├── add_test.html
│   ├── edit_test.html
│   ├── edit_unit.html
│   └── take_test.html
└── static/
    └── style.css
```

## Database Schema

### Core Tables

**Users:** Stores all user accounts (students and mentors)
- `id`: Primary key
- `username`: Unique username
- `password`: User password (stored as-is; use proper hashing in production)
- `role`: "student" or "mentor"
- `mentor_code`: Unique code for mentors to share with students
- `mentor_id`: Foreign key linking students to their mentor

**StudyUnits:** Curriculum units/topics created by mentors
- `id`: Primary key
- `mentor_id`: Foreign key to Users (mentor who created this unit)
- `subject`: Subject name (e.g., "Mathematics")
- `unit_name`: Unit name (e.g., "Calculus BC")
- `topic_name`: Specific topic (e.g., "Integration")

**Tests:** Tests created by mentors for each unit
- `id`: Primary key
- `mentor_id`: Foreign key to Users (mentor who created this test)
- `unit_id`: Foreign key to StudyUnits
- `test_title`: Title of the test

**Questions & Options:** Questions within tests
- `Questions`: Individual questions (MCQ or short-answer)
- `Options`: Multiple-choice options for MCQ questions

**StudentProgress:** Tracks student progress per unit
- `student_id`: Foreign key to Users
- `unit_id`: Foreign key to StudyUnits
- `completed`: Whether unit is marked complete by student
- `test_taken`: Whether student took the unit test
- `test_score`: Score percentage (0-100)
- `difficulty_level`: "easy" (>70%), "medium" (50-70%), or "hard" (<50%)

**Exams:** Exam dates set by mentors
- `unit_id`: Foreign key to StudyUnits
- `exam_date`: ISO format date/time for the exam
- `mentor_id`: Foreign key to Users (mentor who set this exam)

**StudySessions:** Personal study sessions created by students
- `student_id`: Foreign key to Users
- `subject`: Subject being studied
- `start_time`: ISO format date/time
- `notes`: Optional notes
- `completed`: Completion status

**StudySchedule:** Adaptive suggested study times generated by the app
- `student_id`: Foreign key to Users
- `unit_id`: Foreign key to StudyUnits
- `suggested_study_time`: ISO format date/time recommendation
- `completed`: Whether student marked this as done

## Environment Variables

Configure these environment variables for deployment (see `.env.example`):

| Variable | Default | Description |
|----------|---------|-------------|
| `FLASK_HOST` | `0.0.0.0` | Server host (0.0.0.0 = all interfaces) |
| `FLASK_PORT` | `5000` | Server port |
| `FLASK_DEBUG` | `False` | Debug mode (must be False in production) |
| `SECRET_KEY` | `dev-secret-...` | Session encryption key (generate a strong one) |

**For production**, generate a strong SECRET_KEY:
```bash
python -c "import secrets; print(secrets.token_hex(32))"
```

## Deployment

**This application is deployment-ready!** 

For comprehensive deployment instructions, see [DEPLOYMENT.md](DEPLOYMENT.md).

Quick start:
```bash
# Install production WSGI server
pip install gunicorn

# Run with Gunicorn
export SECRET_KEY=$(python -c "import secrets; print(secrets.token_hex(32))")
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

Supported deployment platforms:
- **Linux/Unix servers** with Gunicorn + Nginx
- **Docker** (Dockerfile included in deployment guide)
- **Heroku, Railway, Render** (cloud platforms)
- **PythonAnywhere, Replit** (Python-specific platforms)

## Architecture & Adaptive Scheduling

### How Adaptive Scheduling Works

The `generate_adaptive_schedule()` function prioritizes study sessions based on:

1. **Completion Status**: Topics not started have highest priority
2. **Test Performance**: Topics where tests scored <70% are prioritized
3. **Exam Proximity**: Units with approaching exams get earlier suggested times
4. **Difficulty Level**: Categorized as easy, medium, or hard based on test score

Students see this personalized schedule on their dashboard and can mark suggestions as complete to track adaptive study patterns.


## Database Schema

### Core Tables

**Users:** Stores all user accounts (students and mentors)
- `id`: Primary key
- `username`: Unique username
- `password`: User password (stored as-is; use proper hashing in production)
- `role`: "student" or "mentor"
- `mentor_code`: Unique code for mentors to share with students
- `mentor_id`: Foreign key linking students to their mentor

**StudyUnits:** Curriculum units/topics created by mentors
- `id`: Primary key
- `mentor_id`: Foreign key to Users (mentor who created this unit)
- `subject`: Subject name (e.g., "Mathematics")
- `unit_name`: Unit name (e.g., "Calculus BC")
- `topic_name`: Specific topic (e.g., "Integration")

**Tests:** Tests created by mentors for each unit
- `id`: Primary key
- `mentor_id`: Foreign key to Users (mentor who created this test)
- `unit_id`: Foreign key to StudyUnits
- `test_title`: Title of the test

**Questions & Options:** Questions within tests
- `Questions`: Individual questions (MCQ or short-answer)
- `Options`: Multiple-choice options for MCQ questions

**StudentProgress:** Tracks student progress per unit
- `student_id`: Foreign key to Users
- `unit_id`: Foreign key to StudyUnits
- `completed`: Whether unit is marked complete by student
- `test_taken`: Whether student took the unit test
- `test_score`: Score percentage (0-100)
- `difficulty_level`: "easy" (>70%), "medium" (50-70%), or "hard" (<50%)

**Exams:** Exam dates set by mentors
- `unit_id`: Foreign key to StudyUnits
- `exam_date`: ISO format date/time for the exam
- `mentor_id`: Foreign key to Users (mentor who set this exam)

**StudySessions:** Personal study sessions created by students
- `student_id`: Foreign key to Users
- `subject`: Subject being studied
- `start_time`: ISO format date/time
- `notes`: Optional notes
- `completed`: Completion status

**StudySchedule:** Adaptive suggested study times generated by the app
- `student_id`: Foreign key to Users
- `unit_id`: Foreign key to StudyUnits
- `suggested_study_time`: ISO format date/time recommendation
- `completed`: Whether student marked this as done

## Environment Variables

Configure these environment variables for deployment (see `.env.example`):

| Variable | Default | Description |
|----------|---------|-------------|
| `FLASK_HOST` | `0.0.0.0` | Server host (0.0.0.0 = all interfaces) |
| `FLASK_PORT` | `5000` | Server port |
| `FLASK_DEBUG` | `False` | Debug mode (must be False in production) |
| `SECRET_KEY` | `dev-secret-...` | Session encryption key (generate a strong one) |

**For production**, generate a strong SECRET_KEY:
```bash
python -c "import secrets; print(secrets.token_hex(32))"
```

## Deployment

**This application is deployment-ready!** 

For comprehensive deployment instructions, see [DEPLOYMENT.md](DEPLOYMENT.md).

Quick start:
```bash
# Install production WSGI server
pip install gunicorn

# Run with Gunicorn
export SECRET_KEY=$(python -c "import secrets; print(secrets.token_hex(32))")
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

Supported deployment platforms:
- **Linux/Unix servers** with Gunicorn + Nginx
- **Docker** (Dockerfile included in deployment guide)
- **Heroku, Railway, Render** (cloud platforms)
- **PythonAnywhere, Replit** (Python-specific platforms)

## Architecture & Adaptive Scheduling

### How Adaptive Scheduling Works

The `generate_adaptive_schedule()` function prioritizes study sessions based on:

1. **Completion Status**: Topics not started have highest priority
2. **Test Performance**: Topics where tests scored <70% are prioritized
3. **Exam Proximity**: Units with approaching exams get earlier suggested times
4. **Difficulty Level**: Categorized as easy, medium, or hard based on test score

Students see this personalized schedule on their dashboard and can mark suggestions as complete to track adaptive study patterns.
